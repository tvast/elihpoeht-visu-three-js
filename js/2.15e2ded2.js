(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"21e2":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("audioVIsualizer")],1)},r=[],n=a("516e"),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",{},[o("div",{ref:"audio",staticClass:"audio-container"},[o("div",{staticClass:"row q-ma-md"},[o("div",{staticClass:"col-12"},[o("div",{attrs:{id:"content"}},[o("div",{attrs:{id:"waveform"}}),o("div",{attrs:{id:"out"}})])])])]),o("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{controls:"",src:a("b2ca")}}),e.isLoading?o("q-circular-progress",{attrs:{size:"72px",indeterminate:"",color:"primary"}}):e._e(),o("div",{staticClass:"controls row flex flex-center fixed-bottom q-pb-md q-pt-md shadow-10"},[o("div",{},[o("q-btn",{attrs:{color:"primary",flat:"",round:"",icon:"fast_rewind",size:"xl"},on:{click:function(t){return e.wavesurfer.skipBackward(1)}}}),o("q-btn",{attrs:{color:"primary",flat:"",round:"",icon:"album",size:"xl"},on:{click:function(t){return e.viz()}}}),e.isPlaying?o("q-btn",{attrs:{color:"primary",round:"",icon:"pause",size:"xl"},on:{click:function(t){e.wavesurfer.playPause(),e.pause()}}}):e._e(),e.isPlaying||e.isLoading?e._e():o("q-btn",{ref:"start",attrs:{color:"primary",round:"",icon:"play_arrow",size:"xl"},on:{click:function(t){e.wavesurfer.playPause(),e.viz()}}}),o("q-btn",{attrs:{color:"primary",flat:"",round:"",icon:"fast_forward",size:"xl"},on:{click:function(t){return e.wavesurfer.skipForward(1)}}})],1)])],1)},s=[],l=(a("e6cf"),a("8896")),d=a.n(l),u=a("2b0e"),c=a("5a89"),m=(a("16ed"),a("c41b")),p=a.n(m);u["a"].prototype.Width=window.innerWidth,u["a"].prototype.Height=window.innerHeight;const f=a("b2ca");a("c41b");var w={name:"PageIndex",data:()=>({wavesurfer:null,isLoading:!1}),async mounted(){this.wavesurfer||this.createWaveSurfer()},computed:{isPlaying(){return!!this.wavesurfer&&this.wavesurfer.isPlaying()}},methods:{pause(){this.$refs.audio.pause()},viz(){var e,t,a,o,r,n,i,s,l,d,u=0,m=0,f=0,w=new c["l"],h=0;i=new c["b"]("#343434"),p.a.mouse=new c["o"](0,0),p.a.mouse3d=w.origin,n=new c["p"]({antialias:!0}),n.setClearColor("#343434"),n.shadowMap.type=c["i"],n.shadowMap.enabled=!0,document.body.appendChild(n.domElement),r=new c["m"],r.fog=new c["d"]("#343434",.001),o=new c["j"](45,1,10,3e3),o.position.set(300,60,300).normalize().multiplyScalar(1e3),p.a.camera=o,p.a.cameraPosition=o.position,fboHelper.init(n),postprocessing.init(n,r,o),simulator.init(n),particles.init(n),r.add(particles.container),lights.init(n),r.add(lights.mesh),floor.init(n),floor.mesh.position.y=-100,r.add(floor.mesh),a=new OrbitControls(o,n.domElement),a.target.y=50,a.maxDistance=1e3,a.minPolarAngle=.3,a.maxPolarAngle=Math.PI/2-.1,a.noPan=!0,a.update(),e=new dat.GUI,p.a.isMobile&&(e.close(),a.enabled=!1);var y=e.addFolder("Post-Processing");y.add(p.a,"fxaa").listen(),motionBlur.maxDistance=120,motionBlur.motionMultiplier=7,motionBlur.linesRenderTargetScale=p.a.motionBlurQualityMap[p.a.query.motionBlurQuality];var v=y.add(p.a,"motionBlur"),g=y.add(motionBlur,"maxDistance",1,300).name("motion distance").listen(),b=y.add(motionBlur,"motionMultiplier",.1,15).name("motion multiplier").listen(),x=y.add(p.a.query,"motionBlurQuality",p.a.motionBlurQualityList).name("motion quality").onChange((function(e){motionBlur.linesRenderTargetScale=p.a.motionBlurQualityMap[e],motionBlur.resize()})),P=[g,b,x];v.onChange(z.bind(this,P)),z(P,p.a.motionBlur);var q=y.add(p.a,"bloom"),S=y.add(bloom,"blurRadius",0,3).name("bloom radius"),k=y.add(bloom,"amount",0,3).name("bloom amount");function z(e,t){var a;e=e.length?e:[e];for(var o=0,r=e.length;o<r;o++)a=e[o],a.__li.style.pointerEvents=t?"auto":"none",a.domElement.parentNode.style.opacity=t?1:.1}P=[S,k],q.onChange(z.bind(this,P)),z(P,p.a.bloom),y.open();var C=function(e){e.preventDefault(),this.blur()};function M(e){32===e.keyCode&&(p.a.speed=0===p.a.speed?1:0,p.a.dieSpeed=0===p.a.dieSpeed?.015:0)}function B(e){return function(t){p.a.isMobile&&t.preventDefault&&t.preventDefault(),e(t.changedTouches[0])}}function _(e){p.a.mouse.x=e.pageX/u*2-1,p.a.mouse.y=-e.pageY/m*2+1}function L(){u=window.innerWidth,m=window.innerHeight,postprocessing.resize(u,m)}function E(){var e=Date.now();raf(E),p.a.useStats&&t.begin(),W(e-f,e),p.a.useStats&&t.end(),f=e}function W(e,t){var c;motionBlur.skipMatrixUpdate=!(p.a.dieSpeed||p.a.speed)&&p.a.motionBlurPause,i.setStyle(p.a.bgColor);var m=floor.mesh.material.color;m.lerp(i,.05),r.fog.color.copy(m),n.setClearColor(m.getHex()),h=Math.min(h+25e-5*e,1),simulator.initAnimation=h,a.maxDistance=1===h?1e3:math.lerp(1e3,450,ease.easeOutCubic(h)),a.update(),lights.update(e,o),o.updateMatrixWorld(),w.origin.setFromMatrixPosition(o.matrixWorld),w.direction.set(p.a.mouse.x,p.a.mouse.y,.5).unproject(o).sub(w.origin).normalize();var f=w.origin.length()/Math.cos(Math.PI-w.direction.angleTo(w.origin));w.origin.add(w.direction.multiplyScalar(1*f)),simulator.update(e),particles.update(e),c=Math.min(1.2*(1-2*Math.abs(h-.5)),1);var y=10*(1-c);s.style.display=c?"block":"none",c&&(s.style.opacity=c,s.style.webkitFilter="blur("+y+"px)",c=.8+.5*Math.pow(h,1.5),u<580&&(c*=.5),s.style.transform="scale3d("+c+","+c+",1)");for(var v=0,g=d.length;v<g;v++)c=math.unLerp(.5+.01*v,.6+.01*v,h),d[v].style.transform="translate3d(0,"+50*(1-Math.pow(c,3))+"px,0)";c=math.unLerp(.5,.6,h),p.a.isMobile||(l.style.display=c?"block":"none",l.style.transform="translate3d(0,"+50*(1-c*c)+"px,0)"),fxaa.enabled=!!p.a.fxaa,motionBlur.enabled=!!p.a.motionBlur,bloom.enabled=!!p.a.bloom,postprocessing.render(e,t)}Array.prototype.forEach.call(e.domElement.querySelectorAll('input[type="checkbox"],select'),(function(e){e.onkeyup=e.onkeydown=C,e.style.color="#000"})),s=document.querySelector(".logo"),l=document.querySelector(".instruction"),document.querySelector(".footer").style.display="block",d=document.querySelectorAll(".footer span"),window.addEventListener("resize",L),window.addEventListener("mousemove",_),window.addEventListener("touchmove",B(_)),window.addEventListener("keyup",M),f=Date.now(),L(),E()},createWaveSurfer(){this.wavesurfer=d.a.create({container:"#waveform",barWidth:3}),this.wavesurfer=d.a.create({container:"#waveform",hideScrollbar:!0,waveColor:"lime",progressColor:"hsla(200, 100%, 30%, 0.5)",cursorColor:"#fff",barWidth:3}),this.wavesurfer.load(f),this.wavesurfer.on("error",(e=>{console.error(e),this.isLoading=!1,this.$q.notify({message:e})})),this.wavesurfer.on("loading",(()=>{this.isLoading=!0})),this.wavesurfer.on("ready",(()=>{this.isLoading=!1}))}}},h=w,y=a("2877"),v=Object(y["a"])(h,i,s,!1,null,null,null),g=v.exports,b={name:"ThreeApp",data(){return{}},components:{audioVIsualizer:n["a"],audioVIsualizer2:g},mounted(e){},methods:{}},x=b,P=Object(y["a"])(x,o,r,!1,null,null,null);t["default"]=P.exports},"516e":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",{},[o("div",{ref:"audio",staticClass:"audio-container"},[o("div",{staticClass:"row q-ma-md"},[o("div",{staticClass:"col-12"},[o("div",{attrs:{id:"content"}},[o("div",{attrs:{id:"out"}})])])])]),o("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{controls:"",src:a("b2ca")}}),o("play-pause",{on:{click:function(t){e.play(),e.pause()}}})],1)},r=[],n=(a("13d5"),a("fb6a"),a("ace4"),a("5cc6"),a("8896"),a("2b0e")),i=a("5a89"),s=a("16ed"),l=a.n(s),d=a("642e");a("b178");n["a"].prototype.Width=window.innerWidth,n["a"].prototype.Height=window.innerHeight;a("b2ca");var u={components:{PlayPause:d["a"]},name:"PageIndex",data:()=>({wavesurfer:null,isLoading:!1}),mounted(){this.$root.$on("generateViz",(e=>{this.play()})),this.$root.$on("pauseSound",(e=>{this.pause()}))},methods:{pause(){this.$refs.audio.pause()},play(e){var t=new l.a,a=this,o=new AudioContext,r=o.createMediaElementSource(a.$refs.audio),n=o.createAnalyser();r.connect(n),n.connect(o.destination),n.fftSize=512;var s=n.frequencyBinCount,d=new Uint8Array(s),u=new i["m"],c=new i["e"],m=new i["j"](45,this.Width/this.Height,.1,1e3);m.position.set(0,0,100),m.lookAt(u.position),u.add(m);var p=new i["p"]({alpha:!0,antialias:!0});p.setSize(window.innerWidth,window.innerHeight);var f=new i["k"](800,800,20,20),w=new i["h"]({color:6882510,side:i["c"],wireframe:!0}),h=new i["g"](f,w);h.rotation.x=-.5*Math.PI,h.position.set(0,30,0),c.add(h);var y=new i["g"](f,w);y.rotation.x=-.5*Math.PI,y.position.set(0,-30,0),c.add(y);var v=new i["f"](10,4),g=new i["h"]({color:16711918,wireframe:!0}),b=new i["g"](v,g);b.position.set(0,0,0),c.add(b);var x=new i["a"](11184810);u.add(x);var P=new i["n"](16777215);function q(){n.getByteFrequencyData(d);var e=d.slice(0,d.length/2-1),t=d.slice(d.length/2-1,d.length-1),a=_(e),o=B(t),r=a/e.length,i=o/t.length;z(h,M(i,0,1,.5,4)),z(y,M(r,0,1,.5,4)),k(b,M(Math.pow(r,.8),0,1,0,8),M(i,0,1,0,4)),c.rotation.y+=.005,p.render(u,m),requestAnimationFrame(q)}function S(){m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight)}function k(e,a,o){e.geometry.vertices.forEach((function(r,n){var i=e.geometry.parameters.radius,s=7,l=window.performance.now();r.normalize();var d=1e-5,u=i+a+t.noise3D(r.x+l*d*7,r.y+l*d*8,r.z+l*d*9)*s*o;r.multiplyScalar(u)})),e.geometry.verticesNeedUpdate=!0,e.geometry.normalsNeedUpdate=!0,e.geometry.computeVertexNormals(),e.geometry.computeFaceNormals()}function z(e,a){e.geometry.vertices.forEach((function(e,o){var r=2,n=Date.now(),i=(t.noise2D(e.x+3e-4*n,e.y+1e-4*n)+0)*a*r;e.z=i})),e.geometry.verticesNeedUpdate=!0,e.geometry.normalsNeedUpdate=!0,e.geometry.computeVertexNormals(),e.geometry.computeFaceNormals()}function C(e,t,a){return(e-t)/(a-t)}function M(e,t,a,o,r){var n=C(e,t,a),i=r-o;return o+n*i}function B(e){var t=e.reduce((function(e,t){return e+t}));return t/e.length}function _(e){return e.reduce((function(e,t){return Math.max(e,t)}))}P.intensity=.9,P.position.set(-10,40,20),P.lookAt(b),P.castShadow=!0,u.add(P),u.add(c),document.getElementById("out").appendChild(p.domElement),window.addEventListener("resize",S,!1),q(),a.$refs.audio.play()}}},c=u,m=(a("6b32"),a("2877")),p=Object(m["a"])(c,o,r,!1,null,null,null);t["a"]=p.exports},"562f":function(e,t,a){},"642e":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{},[a("div",{attrs:{id:"waveform"}}),e.isLoading?a("q-circular-progress",{attrs:{size:"72px",indeterminate:"",color:"primary"}}):e._e(),a("div",{staticClass:"controls row flex flex-center fixed-bottom q-pb-md q-pt-md shadow-10"},[a("div",{},[a("q-btn",{attrs:{color:"primary",flat:"",round:"",icon:"fast_rewind",size:"xl"},on:{click:function(t){return e.wavesurfer.skipBackward(1)}}}),e.isPlaying?a("q-btn",{attrs:{color:"primary",round:"",icon:"pause",size:"xl"},on:{click:function(t){e.wavesurfer.playPause(),e.pause()}}}):e._e(),e.isPlaying||e.isLoading?e._e():a("q-btn",{attrs:{color:"primary",round:"",icon:"play_arrow",size:"xl"},on:{click:function(t){e.wavesurfer.playPause(),e.play()}}}),a("q-btn",{attrs:{color:"primary",flat:"",round:"",icon:"fast_forward",size:"xl"},on:{click:function(t){return e.wavesurfer.skipForward(1)}}})],1)])],1)},r=[],n=(a("e6cf"),a("8896")),i=a.n(n),s=a("2b0e");a("516e"),a("5a89"),a("16ed");s["a"].prototype.Width=window.innerWidth,s["a"].prototype.Height=window.innerHeight;const l=a("b2ca");var d={name:"PlayPause",data(){return{wavesurfer:null,isLoading:!1}},async mounted(){this.wavesurfer||this.createWaveSurfer(),console.log(this.wavesurfer)},computed:{isPlaying(){return!!this.wavesurfer&&this.wavesurfer.isPlaying()}},methods:{play(){this.$root.$emit("generateViz")},pause(){this.$root.$emit("pauseSound")},createWaveSurfer(){this.wavesurfer=i.a.create({container:"#waveform",hideScrollbar:!0,waveColor:"#cddc39",progressColor:"hsla(200, 100%, 30%, 0.5)",cursorColor:"#33F  ",barWidth:3}),this.wavesurfer.load(l),this.wavesurfer.on("error",(e=>{console.error(e),this.isLoading=!1,this.$q.notify({message:e})})),this.wavesurfer.on("loading",(()=>{this.isLoading=!0})),this.wavesurfer.on("ready",(()=>{this.isLoading=!1}))}}},u=d,c=(a("c742"),a("2877")),m=Object(c["a"])(u,o,r,!1,null,null,null);t["a"]=m.exports},"6b32":function(e,t,a){"use strict";var o=a("562f"),r=a.n(o);r.a},"9b0b":function(e,t,a){},b2ca:function(e,t,a){e.exports=a.p+"media/audio.59bed8b2.wav"},c41b:function(e,t){t.isMobile=/(iPad|iPhone|Android)/i.test(navigator.userAgent),t.useTriangleParticles=!0,t.followMouse=!0,t.speed=1,t.dieSpeed=.015,t.curlSize=.02,t.attraction=1,t.shadowDarkness=.45,t.bgColor="#343434",t.color1="#ffffff",t.color2="#ffffff",t.fxaa=!1,t.motionBlur=!0,t.motionBlurPause=!1,t.bloom=!0},c742:function(e,t,a){"use strict";var o=a("9b0b"),r=a.n(o);r.a}}]);