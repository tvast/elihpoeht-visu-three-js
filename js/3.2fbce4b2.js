(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"516e":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{},[n("div",{ref:"audio",staticClass:"audio-container"},[n("div",{staticClass:"row q-ma-md"},[n("div",{staticClass:"col-12"},[n("div",{attrs:{id:"content"}},[n("div",{attrs:{id:"out"}})])])])]),n("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{controls:"",src:r("b2ca")}}),n("play-pause",{on:{click:function(t){e.play(),e.pause()}}})],1)},a=[],i=(r("13d5"),r("fb6a"),r("ace4"),r("5cc6"),r("8896"),r("2b0e")),o=r("5a89"),s=r("16ed"),d=r.n(s),u=r("642e");r("b178");i["a"].prototype.Width=window.innerWidth,i["a"].prototype.Height=window.innerHeight;r("b2ca");var c={components:{PlayPause:u["a"]},name:"PageIndex",data:()=>({wavesurfer:null,isLoading:!1}),mounted(){this.$root.$on("generateViz",(e=>{this.play()})),this.$root.$on("pauseSound",(e=>{this.pause()}))},methods:{pause(){this.$refs.audio.pause()},play(e){var t=new d.a,r=this,n=new AudioContext,a=n.createMediaElementSource(r.$refs.audio),i=n.createAnalyser();a.connect(i),i.connect(n.destination),i.fftSize=512;var s=i.frequencyBinCount,u=new Uint8Array(s),c=new o["m"],l=new o["e"],h=new o["j"](45,this.Width/this.Height,.1,1e3);h.position.set(0,0,100),h.lookAt(c.position),c.add(h);var p=new o["p"]({alpha:!0,antialias:!0});p.setSize(window.innerWidth,window.innerHeight);var f=new o["k"](800,800,20,20),w=new o["h"]({color:6882510,side:o["c"],wireframe:!0}),m=new o["g"](f,w);m.rotation.x=-.5*Math.PI,m.position.set(0,30,0),l.add(m);var v=new o["g"](f,w);v.rotation.x=-.5*Math.PI,v.position.set(0,-30,0),l.add(v);var y=new o["f"](10,4),g=new o["h"]({color:16711918,wireframe:!0}),b=new o["g"](y,g);b.position.set(0,0,0),l.add(b);var x=new o["a"](11184810);c.add(x);var S=new o["n"](16777215);function P(){i.getByteFrequencyData(u);var e=u.slice(0,u.length/2-1),t=u.slice(u.length/2-1,u.length-1),r=E(e),n=z(t),a=r/e.length,o=n/t.length;$(m,C(o,0,1,.5,4)),$(v,C(a,0,1,.5,4)),q(b,C(Math.pow(a,.8),0,1,0,8),C(o,0,1,0,4)),l.rotation.y+=.005,p.render(c,h),requestAnimationFrame(P)}function _(){h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight)}function q(e,r,n){e.geometry.vertices.forEach((function(a,i){var o=e.geometry.parameters.radius,s=7,d=window.performance.now();a.normalize();var u=1e-5,c=o+r+t.noise3D(a.x+d*u*7,a.y+d*u*8,a.z+d*u*9)*s*n;a.multiplyScalar(c)})),e.geometry.verticesNeedUpdate=!0,e.geometry.normalsNeedUpdate=!0,e.geometry.computeVertexNormals(),e.geometry.computeFaceNormals()}function $(e,r){e.geometry.vertices.forEach((function(e,n){var a=2,i=Date.now(),o=(t.noise2D(e.x+3e-4*i,e.y+1e-4*i)+0)*r*a;e.z=o})),e.geometry.verticesNeedUpdate=!0,e.geometry.normalsNeedUpdate=!0,e.geometry.computeVertexNormals(),e.geometry.computeFaceNormals()}function k(e,t,r){return(e-t)/(r-t)}function C(e,t,r,n,a){var i=k(e,t,r),o=a-n;return n+i*o}function z(e){var t=e.reduce((function(e,t){return e+t}));return t/e.length}function E(e){return e.reduce((function(e,t){return Math.max(e,t)}))}S.intensity=.9,S.position.set(-10,40,20),S.lookAt(b),S.castShadow=!0,c.add(S),c.add(l),document.getElementById("out").appendChild(p.domElement),window.addEventListener("resize",_,!1),P(),r.$refs.audio.play()}}},l=c,h=(r("6b32"),r("2877")),p=Object(h["a"])(l,n,a,!1,null,null,null);t["a"]=p.exports},"562f":function(e,t,r){},"642e":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{},[r("div",{attrs:{id:"waveform"}}),e.isLoading?r("q-circular-progress",{attrs:{size:"72px",indeterminate:"",color:"primary"}}):e._e(),r("div",{staticClass:"controls row flex flex-center fixed-bottom q-pb-md q-pt-md shadow-10"},[r("div",{},[r("q-btn",{attrs:{color:"primary",flat:"",round:"",icon:"fast_rewind",size:"xl"},on:{click:function(t){return e.wavesurfer.skipBackward(1)}}}),e.isPlaying?r("q-btn",{attrs:{color:"primary",round:"",icon:"pause",size:"xl"},on:{click:function(t){e.wavesurfer.playPause(),e.pause()}}}):e._e(),e.isPlaying||e.isLoading?e._e():r("q-btn",{attrs:{color:"primary",round:"",icon:"play_arrow",size:"xl"},on:{click:function(t){e.wavesurfer.playPause(),e.play()}}}),r("q-btn",{attrs:{color:"primary",flat:"",round:"",icon:"fast_forward",size:"xl"},on:{click:function(t){return e.wavesurfer.skipForward(1)}}})],1)])],1)},a=[],i=(r("e6cf"),r("8896")),o=r.n(i),s=r("2b0e");r("516e"),r("5a89"),r("16ed");s["a"].prototype.Width=window.innerWidth,s["a"].prototype.Height=window.innerHeight;const d=r("b2ca");var u={name:"PlayPause",data(){return{wavesurfer:null,isLoading:!1}},async mounted(){this.wavesurfer||this.createWaveSurfer(),console.log(this.wavesurfer)},computed:{isPlaying(){return!!this.wavesurfer&&this.wavesurfer.isPlaying()}},methods:{play(){this.$root.$emit("generateViz")},pause(){this.$root.$emit("pauseSound")},createWaveSurfer(){this.wavesurfer=o.a.create({container:"#waveform",hideScrollbar:!0,waveColor:"#cddc39",progressColor:"hsla(200, 100%, 30%, 0.5)",cursorColor:"#33F  ",barWidth:3}),this.wavesurfer.load(d),this.wavesurfer.on("error",(e=>{console.error(e),this.isLoading=!1,this.$q.notify({message:e})})),this.wavesurfer.on("loading",(()=>{this.isLoading=!0})),this.wavesurfer.on("ready",(()=>{this.isLoading=!1}))}}},c=u,l=(r("c742"),r("2877")),h=Object(l["a"])(c,n,a,!1,null,null,null);t["a"]=h.exports},"6b32":function(e,t,r){"use strict";var n=r("562f"),a=r.n(n);a.a},"9b0b":function(e,t,r){},a34e:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("q-btn",{attrs:{color:"primary",label:"Primary"},on:{click:function(t){return e.getSounds()}}}),e.listSound?r("div",[r("button",[e._v("hello")]),e._l(e.listSound,(function(t,n){return r("div",{key:n},[r("p",[e._v(e._s(t.title.rendered))]),r("wavesurferTheo",{attrs:{file:t.guid.rendered},on:{"update:file":function(r){return e.$set(t.guid,"rendered",r)}}})],1)}))],2):e._e()],1)},a=[],i=(r("e6cf"),r("ded3")),o=r.n(i),s=r("9523"),d=r.n(s),u=r("bc3a"),c=r.n(u);class l{constructor(){var e=this;d()(this,"headers",{Authorization:"","Content-Type":"",Accept:""}),d()(this,"service",{}),d()(this,"method",""),d()(this,"userId",""),d()(this,"request",(async function(t,r){"POST"===r.method||"PUT"===r.method||r.method;const n={method:r.method||e.method,url:r.url,data:r.data,headers:e.headers,params:r.params};r.headers&&(n.headers=o()(o()({},n.headers),r.headers));try{const e=await t(n);return e.data}catch(a){throw a}})),this.headers["Content-Type"]="application/json;charset=utf-8",this.headers["Access-Control-Allow-Origin"]="*",this.service=c.a.create({baseURL:"http://be54471d693a478390f4374e322b3a67.testmyurl.ws/",headers:this.headers,data:{}}),this.service.interceptors.response.use(this.handleSuccess,this.handleError)}handleSuccess(e){return e}handleError(e){return Promise.reject(e)}}class h extends l{constructor(){super()}async list(){return await this.request(this.service,{url:"/wp-json/wp/v2/media",method:"GET",data:null})}async getFile(e){return await this.request(this.service,{url:"/wp-json/wp/v2/media/"+e,method:"GET",data:null})}}var p=r("8896"),f=r.n(p),w=r("642e"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{attrs:{id:"waveform"}}),r("audio",{attrs:{controls:""}},[r("source",{attrs:{src:e.file,type:"audio/mp3"}}),e._v("\n    Your browser does not support the audio element.\n  ")])])},v=[],y={name:"wavesurferTheo",data(){return{}},props:["file"],mounted(){this.init()},methods:{init(){this.wavesurfer=f.a.create({container:"#waveform",hideScrollbar:!0,waveColor:"#cddc39",progressColor:"hsla(200, 100%, 30%, 0.5)",cursorColor:"#33F  ",barWidth:3,backend:"MediaElement"}),this.wavesurfer.load(this.file.toString()),this.wavesurfer.on("error",(e=>{console.error(e),this.isLoading=!1,this.$q.notify({message:e})})),this.wavesurfer.on("loading",(()=>{this.isLoading=!0})),this.wavesurfer.on("ready",(()=>{this.isLoading=!1}))}}},g=y,b=r("2877"),x=Object(b["a"])(g,m,v,!1,null,null,null),S=x.exports,P={components:{wavesurferTheo:S,PlayPause:w["a"]},name:"ThreeApp",data(){return{sound:new h,listSound:null,file:new Audio,options:{}}},created(){},methods:{getSounds(e){var t=this;this.sound.list().then((e=>{console.log(e),t.listSound=e}))}}},_=P,q=Object(b["a"])(_,n,a,!1,null,null,null);t["default"]=q.exports},b2ca:function(e,t,r){e.exports=r.p+"media/audio.59bed8b2.wav"},c742:function(e,t,r){"use strict";var n=r("9b0b"),a=r.n(n);a.a}}]);